{% extends 'administrador/inicio_administrador.html'%}
{% load static %}

{% block content %}
<h1 class="title">Dashboard</h1>

<section class="stats">
    <div class="card">
        <p>Total de audiolibros</p>
        <h2>{{ total_audiolibros }}</h2>
    </div>
    <div class="card">
        <p>Total de usuarios</p>
        <h2>{{total_participantes}}</h2>
    </div>
    <div class="card">
        <p>Prácticas completadas</p>
        <h2>{{practicas_completadas}}</h2>
    </div>
    <div class="card">
        <p>Calificación promedio</p>
        <h2>{{calificacion_promedio}}</h2>
    </div>
</section>

<!-- Gráfico de usuarios por mes -->
<section class="chart-section">
    <div class="chart-header">
        <div>
            <h2>Nuevos usuarios por mes</h2>
            <p class="chart-subtitle">Últimos 6 meses</p>
        </div>
        <div class="chart-stats">
            <span class="highlight-number">{{ usuarios_mes_actual }}</span>
            <span class="highlight-text">Este mes</span>
        </div>
    </div>

    <div class="chart-container">
        <canvas id="usuariosChart"></canvas>
    </div>
</section>


<script>
    const mesesLabels = {{ meses_labels| safe }};
    const mesesData = {{ meses_data| safe }};
</script>
{% endblock %}

{% block scripts %}
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
<script src="{% static 'js/administrador/dashboard.js' %}"></script>
{% endblock %}